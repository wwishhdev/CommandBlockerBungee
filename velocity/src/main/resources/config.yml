#  ____                                          _ ____  _            _
# / ___|___  _ __ ___  _ __ ___   __ _ _ __   __| | __ )| | ___   ___| | _____ _ __
#| |   / _ \| '_ ` _ \| '_ ` _ \ / _` | '_ \ / _` |  _ \| |/ _ \ / __| |/ / _ \ '__|
#| |__| (_) | | | | | | | | | | | (_| | | | | (_| | |_) | | (_) | (__|   <  __/ |
# \____\___/|_| |_| |_|_| |_| |_|\__,_|_| |_|\__,_|____/|_|\___/ \___|_|\_\___|_|
#
# CommandBlockerVelocity v2.1.3
# Author: wwishhdev

# =============================================================================
# Messages Configuration
# Supports MiniMessage (<red>, <gradient:red:blue>, <#ff0000>) and Legacy (&c)
# Available placeholders: {player}, {command}, {time}, {error}
# =============================================================================
messages:
  block-message: '<red>This command is blocked.'
  reload-success: '<green>CommandBlocker has been reloaded successfully!'
  reload-error: '<red>Error reloading configuration: {error}'
  no-permission: '<red>You don''t have permission to use this command.'
  console-reload: 'Configuration reloaded by {player}'

# =============================================================================
# Permissions Configuration
# - commandblocker.bypass: Full bypass (blocks & cooldowns)
# - commandblocker.bypass.block: Bypass blocked commands check only
# - commandblocker.bypass.cooldown: Bypass cooldown check only
# - commandblocker.reload: Allows reloading the plugin
# - commandblocker.notify: Receives notifications
# =============================================================================
permissions:
  bypass-all: 'commandblocker.bypass'
  bypass-block: 'commandblocker.bypass.block'
  bypass-cooldown: 'commandblocker.bypass.cooldown'
  notify: 'commandblocker.notify'

# =============================================================================
# Alias Detection Configuration
# Prevents players from bypassing command blocks using aliases
# =============================================================================
alias-detection:
  enabled: true              # Master switch for alias detection
  block-help-subcommand: true    # Blocks commands like "op help"
  block-plugin-prefix: true      # Blocks commands like "minecraft:op"

# =============================================================================
# Blocked Commands List
# Add commands without the '/' prefix
# =============================================================================
blocked-commands:
  - 'op'
  - 'deop'
  - 'reload'
  - 'rl'
  - 'timings'
  - 'plugins'
  - 'pl'
  # WARNING: 'execute' can be used to run blocked commands indirectly (e.g. /execute run op)
  - 'execute'

# =============================================================================
# Allowed Commands List
# Commands in this list will be allowed regardless of other settings
# =============================================================================
allowed-commands-settings:
  enabled: true
  commands:
    - 'help'
    - 'ping'

# =============================================================================
# Cooldown System Configuration
# Prevents command spam by limiting attempts
# =============================================================================
cooldown:
  enabled: true
  max-attempts: 3
  timeout-duration: 300     # Seconds
  reset-after: 600         # Seconds
  timeout-message: '<red>You have exceeded the attempt limit. Wait <yellow>{time} <red>to try again.'

# =============================================================================
# Database Configuration (SQLite or MySQL)
# Used to persist cooldowns across restarts
# =============================================================================
database:
  enabled: false
  type: "sqlite" # or "mysql"
  host: "localhost"
  port: 3306
  user: "root"
  password: ""
  database: "minecraft"
  table-prefix: "cb_"
  # Advanced Settings
  use-ssl: false            # Set to true if your database supports/requires SSL
  auto-reconnect: true      # Automatically try to reconnect if connection is lost
  max-pool-size: 10         # Maximum number of connections in the pool
  connection-timeout: 30000 # Milliseconds to wait for a connection
  thread-pool-size: 4       # Number of threads for async DB/webhook operations (1-32)

# =============================================================================
# Staff Notification System
# Alerts staff members when players try to use blocked commands
# =============================================================================
notifications:
  enabled: true
  notify-on-timeout: true
  command-message: '<yellow>{player} <gray>tried to use blocked command: <red>{command}'
  timeout-message: '<yellow>{player} <gray>has been timed out for exceeding attempts.'

# =============================================================================
# Interactive Staff Notifications
# Clickable actions appended to the notification message
# =============================================================================
notification-actions:
  enabled: true
  # Actions list. You can add as many as you want.
  # Command placeholders: {player}
  actions:
    - label: " <dark_gray>[<red>KICK<dark_gray>]"
      hover: "<red>Click to Kick {player}"
      command: "/kick {player} Using blocked commands"
    - label: " <dark_gray>[<dark_red>BAN<dark_gray>]"
      hover: "<dark_red>Click to Ban {player}"
      command: "/ban {player} Blocked Commands"
    - label: " <dark_gray>[<gold>TEMP-BAN<dark_gray>]"
      hover: "<gold>Click to Temp-Ban {player}"
      command: "/tempban {player} 1d Blocked Commands"

# =============================================================================
# Discord Webhook Integration
# Sends alerts to a Discord channel
# =============================================================================
discord-webhook:
  enabled: false
  url: ""
  username: "CommandBlocker"
  avatar-url: "https://i.imgur.com/example.png"
  content: "**{player}** tried to use blocked command: `{command}`"
